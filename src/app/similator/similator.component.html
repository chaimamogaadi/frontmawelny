<app-navbar></app-navbar>
<app-div-home></app-div-home>
<div class="container" *ngIf="offerLoan">
  <div class="row">
    <div class="private-venue aos">
      <div class="modal-content">
        <div class="modal-header">
          <div class="form-header modal-header-title">
            <h4 class="mb-0">typeLoan : {{ offerLoan.typeLoan }}</h4>
          </div>
          <a class="close" data-bs-dismiss="modal" aria-label="Close">
            <span class="align-center" aria-hidden="true"><i class="feather-x"></i></span>
          </a>
        </div>
        <div class="modal-body">
          <form [formGroup]="form">
            <div class="col-lg-12">
                <div class="input-space">
                  <label class="form-label">Type Amortization</label>
                  <select class="form-control" formControlName="selectedTypeAmort" (change)="onTypeAmortChange()">
                    <option value="CONST_MONTHLY" *ngIf="offerLoan?.typeLoan === 'STUDENT' || offerLoan?.typeLoan === 'FARMER' || offerLoan?.typeLoan === 'HOMEMAKER'">CONST MONTHLY</option>
                    <option>choose a type:...</option>
                    <option value="CONST_AMORTIZATION" *ngIf="offerLoan?.typeLoan === 'PROJECT'">CONST AMORTIZATION</option>
                    <option value="LOAN_PER_BLOC" *ngIf="offerLoan?.typeLoan === 'PROJECT'">LOAN PER BLOC</option>
                    <option value="CONST_ANNUITY" *ngIf="offerLoan?.typeLoan === 'PROJECT'">CONST ANNUITY</option>
                  </select>
                </div>
              </div>
              <div class="row justify-content-center">
                <div class="col-lg-12">
                  <div class="input-space">
                    <label class="form-label">Amount you want to borrow</label>
                    <input type="number" class="form-control" formControlName="loanAmnt">
                  </div>
                </div>
                <div class="col-lg-12">
                  <div class="input-space">
                    <label class="form-label">Period of the loan</label>
                    <input type="number" class="form-control" formControlName="loanPeriod">
                  </div>
                </div>
                <div class="col-lg-12">
                  <div class="input-space">
                    <label class="form-label">Interest : {{ offerLoan.intRate }}</label>
                    <input type="text" class="form-control" disabled>
                  </div>
                </div>
                <div class="col-lg-12" *ngIf="offerLoan?.typeLoan === 'STUDENT' || offerLoan?.typeLoan === 'FARMER' || offerLoan?.typeLoan === 'HOMEMAKER'">
                  <div class="input-space">
                    <label class="form-label">Your Monthly Repayment will be:</label>
                    <input type="number" class="form-control" [value]="monthlyRepaymentAmount"  disabled >
                  </div>
                </div>
                <div class="col-lg-12" *ngIf=" offerLoan.typeLoan === 'PROJECT'">
                  <div class="input-space">
                    <label class="form-label">Your Yearly Repayment will be:</label>
                    <input type="number" class="form-control" [value]="yearlyRepaymentAmount"disabled>
                  </div>
                </div>
              
                <div class="col-lg-12">
                  <div class="input-space">
                    <button class="btn btn-primary" (click)="calculateRepayment()">Simulate</button>
                    <div class="modal-footer">
                      <div class="table-accept-btn">
                        <a href="javascript:;" class="btn btn-secondary" [routerLink]="['/request',offerLoan.idOffer]">Request Loan</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </form>          
        </div>

        
      </div>
    </div>
  </div>
</div>
